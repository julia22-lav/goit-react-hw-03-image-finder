{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/fetch.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchImages","query","page","url","get","then","data","console","log","window","scrollTo","top","document","documentElement","scrollHeight","behavior","hits","Searchbar","state","reset","setState","onChange","event","preventDefault","value","currentTarget","onSubmit","props","className","s","SearchForm","this","type","SearchFormBtn","onClick","SearchFormBtnLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","id","webformatURL","tags","src","alt","ImageGalleryItemImage","modalRoot","querySelector","Modal","onKeyDown","code","onClose","onOverlayClick","target","addEventListener","removeEventListener","largeImageURL","createPortal","Overlay","width","ImageGallery","hideModal","showModal","images","map","Button","App","gallery","componentDidUpdate","_","prevState","onNewQuery","color","height","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4012b9af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3TDu_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2_lHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__a3f1Q\",\"Modal\":\"Modal_Modal__1dGPW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2mpFh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3xxkw\"};","import axios from \"axios\";\r\n\r\nconst API_KEY = \"19920975-a527e386fa9eb188d46acf2f9\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchImages = (query, page) => {\r\n  const perPage = 12;\r\n  const url = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\r\n  return axios.get(url).then(({ data }) => {\r\n    console.log(data);\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n    console.log(data.hits);\r\n    return data.hits;\r\n  });\r\n};\r\n\r\nexport default fetchImages;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: \"\" };\r\n\r\n  reset = () => {\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  onChange = (event) => {\r\n    event.preventDefault();\r\n    const { value } = event.currentTarget;\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n          <button\r\n            type=\"submit\"\r\n            className={s.SearchFormBtn}\r\n            onClick={this.onSubmit}\r\n          >\r\n            <span className={s.SearchFormBtnLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  const { id, webformatURL, tags } = image;\r\n  return (\r\n    <li className={s.ImageGalleryItem} key={id} onClick={onClick}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { largeImageURL, tags } = this.props.image;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={largeImageURL} alt={tags} width={\"100%\"} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.object,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport Modal from \"../Modal\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = { image: null };\r\n\r\n  hideModal = () => {\r\n    this.setState({ image: null });\r\n  };\r\n\r\n  showModal = (image) => {\r\n    this.setState({ image });\r\n  };\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map((image) => {\r\n            return (\r\n              <ImageGalleryItem\r\n                image={image}\r\n                key={image.id}\r\n                onClick={() => this.showModal(image)}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        {this.state.image && (\r\n          <Modal onClose={this.hideModal} image={this.state.image} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"submit\" onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport fetchImages from \"./services/fetch.js\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = { query: \"\", page: 1, gallery: [] };\n\n  componentDidUpdate = (_, prevState) => {\n    const { query, page } = this.state;\n\n    if (this.state.query !== prevState.query) {\n      this.setState({ gallery: [] });\n      fetchImages(query, page).then((images) => {\n        this.setState({ gallery: [...images] });\n      });\n    }\n\n    if (\n      this.state.query === prevState.query &&\n      this.state.page !== prevState.page\n    ) {\n      fetchImages(query, page).then((images) => {\n        this.setState((prevState) => ({\n          gallery: [...prevState.gallery, ...images],\n        }));\n      });\n    }\n  };\n\n  onNewQuery = ({ query }) => {\n    this.setState({ query });\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onNewQuery} />\n        {this.state.gallery ? (\n          <ImageGallery images={this.state.gallery} />\n        ) : (\n          <Loader\n            type=\"Hearts\"\n            color=\"violet\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {this.state.gallery.length && this.state.gallery.length % 12 === 0 ? (\n          <Button\n            onClick={() => {\n              this.setState((prevState) => ({ page: prevState.page + 1 }));\n            }}\n          />\n        ) : (\n          false\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2MZdW\",\"SearchForm\":\"Searchbar_SearchForm__2kFy0\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__oe7aF\",\"SearchFormBtnLabel\":\"Searchbar_SearchFormBtnLabel__3h84d\",\"SearchFormInput\":\"Searchbar_SearchFormInput__wQFv1\"};"],"sourceRoot":""}